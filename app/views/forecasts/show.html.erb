<% content_for :title, "Prognoza" %>
<div class="container">

  <h4>Prognoza
    <%= link_to 'Edycja prognozy', edit_forecast_path(@forecast), class:"btn btn-sm btn-outline-primary" if current_user.try(:admin?) %>
    <%= link_to 'Lista prognoz', forecasts_path, class:"btn btn-sm btn-outline-primary" %>
    <%= link_to 'Lista pomiarów ze stacji', measur_station_path(@station.id), class:"btn btn-sm btn-outline-primary" %>
    <%= link_to 'Przejdź do stacji', station_path(@station.id), class:"btn btn-sm btn-outline-primary" %>
  </h4><hr>

  <h4>Podstawowe informacje</h4><hr>
  <p>Stacja IMGW: <strong><%= Station.where(number:@forecast.station_number).pluck(:name).last %></strong>.
     Data i godzina prognozy: <strong><%= @forecast.date %>; <%= @forecast.hour %>:00</strong>.
     Następna prognoza około: <strong><%= @forecast.next.strftime("%Y-%m-%d; %H:%M") if @forecast.next %></strong>.</p>

  <h4>Dane pogodowe</h4><hr>
  <% for i in 0..@forecast.temperatures.count-1 %>
    <p>
      Od <strong><%= @forecast.times_from[i].strftime("%Y-%m-%d; %H:%M") if @forecast.times_from[i] %></strong>
      do <strong><%= @forecast.times_to[i].strftime("%Y-%m-%d; %H:%M") if @forecast.times_to[i] %></strong>;
    </p>
    <p>
      Temperatura: <strong><%= @forecast.temperatures[i] %>&#8451;</strong>;
      Ciśnienie: <strong><%= @forecast.preasures[i] %>hPa</strong>;
      Prędkość wiatru: <strong><%= (@forecast.wind_speeds[i].to_f).round(2) %>m/s</strong>;
      Kierunek wiatru: <strong><%= cardinals(@forecast.wind_directs[i]) %></strong>;
      Opady: <strong><%= @forecast.precipitations[i] %>mm/h</strong>;
      Sytuacja pogodowa [eng]: <strong><%= @forecast.situations[i] %></strong>.
    </p>
    <hr>
  <% end %>
</div>
